#!/usr/bin/env bash

PHP=${PHPVERSION:-php}
composer=$(command -v composer)

runComposer() {
    "$PHP" "$composer" install --classmap-authoritative
}

declare -A patternToAction

patternToAction['^composer\.(json|lock)$']='runComposer'
[[ ! -d ./vendor ]] && runComposer
