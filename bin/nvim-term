#!/usr/bin/env bash

terminal="${0##*/nvim-}"
nvimCmd="$(command -v nvim)"
title="Neovim (${PWD})"
appId='arctgx.term.nvim'

case "$terminal" in
    kitty)
        exec kitty --class="$appId" -o font_size=14 -o shell_integration=no-title --start-as fullscreen --detach -- "${nvimCmd}" "$@"
        ;;
    alacritty)
        exec alacritty --class "$appId" --title "${title}" --option font.size=14 --command "${nvimCmd}" "$@" &
        ;;
    ghostty)
        # https://github.com/ghostty-org/ghostty/issues/8862
        # env=TMUX= does not work with -e
        unset TMUX
        exec ghostty --class="$appId" --title="${title}" --font-size=14 -e "${nvimCmd}" "$@" 2>/dev/null &
        ;;
    *)
        echo 'command not defined'
        exit 1
        ;;
esac
